<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Format quosures for printing or labelling — quo_label • rlang</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Format quosures for printing or labelling — quo_label" />
<meta property="og:description" content="
Note: You should now use as_label() or as_name() instead
of quo_name(). See life cycle section below.
These functions take an arbitrary R object, typically an
expression, and represent it as a string.
quo_name() returns an abbreviated representation of the object
as a single line string. It is suitable for default names.
quo_text() returns a multiline string. For instance block
expressions like { foo; bar } are represented on 4 lines (one
for each symbol, and the curly braces on their own lines).


These deparsers are only suitable for creating default names or
printing output at the console. The behaviour of your functions
should not depend on deparsed objects. If you are looking for a way
of transforming symbols to strings, use as_string() instead of
quo_name(). Unlike deparsing, the transformation between symbols
and strings is non-lossy and well defined." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rlang</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.8.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../reference/lifecycle.html">Life cycle</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Release notes</li>
    <li>
      <a href="https://www.tidyverse.org/blog/2020/02/glue-strings-and-tidy-eval/">Version 0.4.3</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2019/06/rlang-0-4-0/">Version 0.4.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2019/01/rlang-0-3-1/">Version 0.3.1</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2018/10/rlang-0-3-0/">Version 0.3.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2018/03/rlang-0.2.0/">Version 0.2.0</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-lib/rlang/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Format quosures for printing or labelling</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-lib/rlang/blob/master/R/quo.R'><code>R/quo.R</code></a></small>
    <div class="hidden name"><code>quo_label.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><a href='https://www.tidyverse.org/lifecycle/#questioning'><img src='figures/lifecycle-questioning.svg' alt='Questioning lifecycle'></a></p>
<p><strong>Note:</strong> You should now use <code><a href='as_label.html'>as_label()</a></code> or <code><a href='as_name.html'>as_name()</a></code> instead
of <code>quo_name()</code>. See life cycle section below.</p>
<p>These functions take an arbitrary R object, typically an
<a href='is_expression.html'>expression</a>, and represent it as a string.</p><ul>
<li><p><code>quo_name()</code> returns an abbreviated representation of the object
as a single line string. It is suitable for default names.</p></li>
<li><p><code>quo_text()</code> returns a multiline string. For instance block
expressions like <code>{ foo; bar }</code> are represented on 4 lines (one
for each symbol, and the curly braces on their own lines).</p></li>
</ul>

<p>These deparsers are only suitable for creating default names or
printing output at the console. The behaviour of your functions
should not depend on deparsed objects. If you are looking for a way
of transforming symbols to strings, use <code><a href='as_string.html'>as_string()</a></code> instead of
<code>quo_name()</code>. Unlike deparsing, the transformation between symbols
and strings is non-lossy and well defined.</p>
    </div>

    <pre class="usage"><span class='fu'>quo_label</span><span class='op'>(</span><span class='va'>quo</span><span class='op'>)</span>

<span class='fu'>quo_text</span><span class='op'>(</span><span class='va'>quo</span>, width <span class='op'>=</span> <span class='fl'>60L</span>, nlines <span class='op'>=</span> <span class='cn'>Inf</span><span class='op'>)</span>

<span class='fu'>quo_name</span><span class='op'>(</span><span class='va'>quo</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>quo</th>
      <td><p>A quosure or expression.</p></td>
    </tr>
    <tr>
      <th>width</th>
      <td><p>Width of each line.</p></td>
    </tr>
    <tr>
      <th>nlines</th>
      <td><p>Maximum number of lines to extract.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="life-cycle"><a class="anchor" href="#life-cycle"></a>Life cycle</h2>

    


<p>These functions are in the questioning life cycle stage.</p><ul>
<li><p><code><a href='as_label.html'>as_label()</a></code> and <code><a href='as_name.html'>as_name()</a></code> should be used instead of
<code>quo_name()</code>. <code><a href='as_label.html'>as_label()</a></code> transforms any R object to a string
but should only be used to create a default name. Labelisation is
not a well defined operation and no assumption should be made
about the label. On the other hand, <code><a href='as_name.html'>as_name()</a></code> only works with
(possibly quosured) symbols, but is a well defined and
deterministic operation.</p></li>
<li><p>We don't have a good replacement for <code>quo_text()</code> yet. See
<a href='https://github.com/r-lib/rlang/issues/636'>https://github.com/r-lib/rlang/issues/636</a> to follow discussions
about a new deparsing API.</p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='expr_label.html'>expr_label()</a></code>, <code><a href='f_text.html'>f_label()</a></code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Quosures can contain nested quosures:</span>
<span class='va'>quo</span> <span class='op'>&lt;-</span> <span class='fu'><a href='nse-defuse.html'>quo</a></span><span class='op'>(</span><span class='fu'>foo</span><span class='op'>(</span><span class='op'>!</span><span class='op'>!</span> <span class='fu'><a href='nse-defuse.html'>quo</a></span><span class='op'>(</span><span class='va'>bar</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>quo</span>
</div><div class='output co'>#&gt; <span style='font-weight: bold;'>&lt;quosure&gt;</span><span>
#&gt; expr: </span><span style='color: #0000BB;'>^foo(^bar)</span><span>
#&gt; env:  </span><span style='color: #0000BB;'>0x7fb99cf89b28</span><span></div><div class='input'>
<span class='co'># quo_squash() unwraps all quosures and returns a raw expression:</span>
<span class='fu'><a href='quo_squash.html'>quo_squash</a></span><span class='op'>(</span><span class='va'>quo</span><span class='op'>)</span>
</div><div class='output co'>#&gt; foo(bar)</div><div class='input'>
<span class='co'># This is used by quo_text() and quo_label():</span>
<span class='fu'>quo_text</span><span class='op'>(</span><span class='va'>quo</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "foo(bar)"</div><div class='input'>
<span class='co'># Compare to the unwrapped expression:</span>
<span class='fu'><a href='expr_label.html'>expr_text</a></span><span class='op'>(</span><span class='va'>quo</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "~foo(~bar)"</div><div class='input'>
<span class='co'># quo_name() is helpful when you need really short labels:</span>
<span class='fu'>quo_name</span><span class='op'>(</span><span class='fu'><a href='nse-defuse.html'>quo</a></span><span class='op'>(</span><span class='va'>sym</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "sym"</div><div class='input'><span class='fu'>quo_name</span><span class='op'>(</span><span class='fu'><a href='nse-defuse.html'>quo</a></span><span class='op'>(</span><span class='op'>!</span><span class='op'>!</span> <span class='va'>sym</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "function (x) ..."</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Lionel Henry, <a href='http://hadley.nz'>Hadley Wickham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


