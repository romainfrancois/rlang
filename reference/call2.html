<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Create a call — call2 • rlang</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Create a call — call2" />
<meta property="og:description" content="Quoted function calls are one of the two types of
symbolic objects in R. They represent the action of
calling a function, possibly with arguments. There are two ways of
creating a quoted call:
By quoting it. Quoting prevents functions from being
called. Instead, you get the description of the function call as
an R object. That is, a quoted function call.
By constructing it with base::call(), base::as.call(), or
call2(). In this case, you pass the call elements (the function
to call and the arguments to call it with) separately.


See section below for the difference between call2() and the base
constructors." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-115082821-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-115082821-1');
</script>


  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rlang</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.8.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../reference/lifecycle.html">Life cycle</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Release notes</li>
    <li>
      <a href="https://www.tidyverse.org/blog/2020/02/glue-strings-and-tidy-eval/">Version 0.4.3</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2019/06/rlang-0-4-0/">Version 0.4.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2019/01/rlang-0-3-1/">Version 0.3.1</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2018/10/rlang-0-3-0/">Version 0.3.0</a>
    </li>
    <li>
      <a href="https://www.tidyverse.org/articles/2018/03/rlang-0.2.0/">Version 0.2.0</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Change log</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-lib/rlang/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Create a call</h1>
    <small class="dont-index">Source: <a href='https://github.com/r-lib/rlang/blob/master/R/call.R'><code>R/call.R</code></a></small>
    <div class="hidden name"><code>call2.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Quoted function calls are one of the two types of
<a href='is_expression.html'>symbolic</a> objects in R. They represent the action of
calling a function, possibly with arguments. There are two ways of
creating a quoted call:</p><ul>
<li><p>By <a href='nse-defuse.html'>quoting</a> it. Quoting prevents functions from being
called. Instead, you get the description of the function call as
an R object. That is, a quoted function call.</p></li>
<li><p>By constructing it with <code><a href='https://rdrr.io/r/base/call.html'>base::call()</a></code>, <code><a href='https://rdrr.io/r/base/call.html'>base::as.call()</a></code>, or
<code>call2()</code>. In this case, you pass the call elements (the function
to call and the arguments to call it with) separately.</p></li>
</ul>

<p>See section below for the difference between <code>call2()</code> and the base
constructors.</p>
    </div>

    <pre class="usage"><span class='fu'>call2</span><span class='op'>(</span><span class='va'>.fn</span>, <span class='va'>...</span>, .ns <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>.fn</th>
      <td><p>Function to call. Must be a callable object: a string,
symbol, call, or a function.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>&lt;<a href='dyn-dots.html'>dynamic</a>&gt; Arguments for the function
call. Empty arguments are preserved.</p></td>
    </tr>
    <tr>
      <th>.ns</th>
      <td><p>Namespace with which to prefix <code>.fn</code>. Must be a string
or symbol.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="difference-with-base-constructors"><a class="anchor" href="#difference-with-base-constructors"></a>Difference with base constructors</h2>

    


<p><code>call2()</code> is more flexible and convenient than <code><a href='https://rdrr.io/r/base/call.html'>base::call()</a></code>:</p><ul>
<li><p>The function to call can be a string or a <a href='is_callable.html'>callable</a>
object: a symbol, another call (e.g. a <code><a href='https://rdrr.io/r/base/Extract.html'>$</a></code> or <code><a href='https://rdrr.io/r/base/Extract.html'>[[</a></code> call), or a
function to inline. <code><a href='https://rdrr.io/r/base/call.html'>base::call()</a></code> only supports strings and you
need to use <code><a href='https://rdrr.io/r/base/call.html'>base::as.call()</a></code> to construct a call with a callable
object.</p><pre><span class='fu'>call2</span><span class='op'>(</span><span class='va'>list</span>, <span class='fl'>1</span>, <span class='fl'>2</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/call.html'>as.call</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>list</span>, <span class='fl'>1</span>, <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
</pre></li>
<li><p>The <code>.ns</code> argument is convenient for creating namespaced calls.</p><pre><span class='fu'>call2</span><span class='op'>(</span><span class='st'>"list"</span>, <span class='fl'>1</span>, <span class='fl'>2</span>, .ns <span class='op'>=</span> <span class='st'>"base"</span><span class='op'>)</span>

<span class='va'>ns_call</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/call.html'>as.call</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/name.html'>as.name</a></span><span class='op'>(</span><span class='st'>"::"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/name.html'>as.name</a></span><span class='op'>(</span><span class='st'>"list"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/name.html'>as.name</a></span><span class='op'>(</span><span class='st'>"base"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/call.html'>as.call</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='va'>ns_call</span>, <span class='fl'>1</span>, <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
</pre></li>
<li><p><code>call2()</code> has <a href='list2.html'>tidy dots</a> support and you can splice lists
of arguments with <code>!!!</code>. With base R, you need to use <code><a href='https://rdrr.io/r/base/call.html'>as.call()</a></code>
instead of <code><a href='https://rdrr.io/r/base/call.html'>call()</a></code> if the arguments are in a list.</p><pre><span class='va'>args</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>na.rm <span class='op'>=</span> <span class='cn'>TRUE</span>, trim <span class='op'>=</span> <span class='fl'>0</span><span class='op'>)</span>

<span class='fu'>call2</span><span class='op'>(</span><span class='st'>"mean"</span>, <span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>, <span class='op'>!</span><span class='op'>!</span><span class='op'>!</span><span class='va'>args</span><span class='op'>)</span>

<span class='fu'><a href='https://rdrr.io/r/base/call.html'>as.call</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/name.html'>as.name</a></span><span class='op'>(</span><span class='st'>"mean"</span><span class='op'>)</span>, <span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span><span class='op'>)</span>, <span class='va'>args</span><span class='op'>)</span><span class='op'>)</span>
</pre></li>
</ul>

    <h2 class="hasAnchor" id="caveats-of-inlining-objects-in-calls"><a class="anchor" href="#caveats-of-inlining-objects-in-calls"></a>Caveats of inlining objects in calls</h2>

    


<p><code>call2()</code> makes it possible to inline objects in calls, both in
function and argument positions. Inlining an object or a function
has the advantage that the correct object is used in all
environments. If all components of the code are inlined, you can
even evaluate in the <a href='empty_env.html'>empty environment</a>.</p>
<p>However inlining also has drawbacks. It can cause issues with NSE
functions that expect symbolic arguments. The objects may also leak
in representations of the call stack, such as <code><a href='https://rdrr.io/r/base/traceback.html'>traceback()</a></code>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>call_modify</p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># fn can either be a string, a symbol or a call</span>
<span class='fu'>call2</span><span class='op'>(</span><span class='st'>"f"</span>, a <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; f(a = 1)</div><div class='input'><span class='fu'>call2</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/substitute.html'>quote</a></span><span class='op'>(</span><span class='va'>f</span><span class='op'>)</span>, a <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; f(a = 1)</div><div class='input'><span class='fu'>call2</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/substitute.html'>quote</a></span><span class='op'>(</span><span class='fu'>f</span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>, a <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; f()(a = 1)</div><div class='input'>
<span class='co'>#' Can supply arguments individually or in a list</span>
<span class='fu'>call2</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/substitute.html'>quote</a></span><span class='op'>(</span><span class='va'>f</span><span class='op'>)</span>, a <span class='op'>=</span> <span class='fl'>1</span>, b <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span>
</div><div class='output co'>#&gt; f(a = 1, b = 2)</div><div class='input'><span class='fu'>call2</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/substitute.html'>quote</a></span><span class='op'>(</span><span class='va'>f</span><span class='op'>)</span>, <span class='op'>!</span><span class='op'>!</span><span class='op'>!</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>a <span class='op'>=</span> <span class='fl'>1</span>, b <span class='op'>=</span> <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; f(a = 1, b = 2)</div><div class='input'>
<span class='co'># Creating namespaced calls is easy:</span>
<span class='fu'>call2</span><span class='op'>(</span><span class='st'>"fun"</span>, arg <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/substitute.html'>quote</a></span><span class='op'>(</span><span class='va'>baz</span><span class='op'>)</span>, .ns <span class='op'>=</span> <span class='st'>"mypkg"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; mypkg::fun(arg = baz)</div><div class='input'>
<span class='co'># Empty arguments are preserved:</span>
<span class='fu'>call2</span><span class='op'>(</span><span class='st'>"["</span>, <span class='fu'><a href='https://rdrr.io/r/base/substitute.html'>quote</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>, , drop <span class='op'>=</span> <span class='op'>)</span>
</div><div class='output co'>#&gt; x[, drop = ]</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Lionel Henry, <a href='http://hadley.nz'>Hadley Wickham</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


